"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[852],{9825:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(7021),r=n(579);const s=e=>{let{text:t,loading:n=!1}=e;return(0,r.jsx)(a.Ay,{type:"primary",loading:n,htmlType:"submit",block:!0,size:"large",children:t})}},5852:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(3003),r=n(5043),s=n(3275),l=n(9825);const o=(0,n(2099).Mz)([e=>e.contacts.items,e=>e.filter],((e,t)=>{if(!t)return{items:e};const n=t.toLowerCase();return{items:e.filter((e=>{let{name:t,number:a}=e;return t.toLowerCase().includes(n)||a.includes(n)}))}})),i=e=>e.contacts,c="PhoneBookForm_form__ln2Qf",m="PhoneBookForm_label__hl1Ol",d="PhoneBookForm_input__rY+Ws";var u=n(579);const h={name:"",number:""},x=()=>{const[e,t]=(0,r.useState)({...h}),{addLoading:n,error:o}=(0,a.d4)(i),x=(0,a.wA)(),j=e=>{let{target:n}=e;const{name:a,value:r}=n;t((e=>({...e,[a]:r})))};return(0,u.jsxs)("form",{className:c,onSubmit:n=>{n.preventDefault(),x((0,s.IP)({...e})),o||t({...h})},children:[(0,u.jsxs)("label",{className:m,children:["Name",(0,u.jsx)("input",{type:"text",className:d,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f0-9 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$",name:"name",onChange:j,value:e.name,required:!0})]}),(0,u.jsxs)("label",{className:m,children:["Number",(0,u.jsx)("input",{type:"phone",className:d,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:j,value:e.number,required:!0})]}),(0,u.jsx)(l.A,{text:"Add contact",loading:n})]})};var j=n(2690),p=n(3726);const b="PhoneBookItem_table__sF38P";var g=n(7021),A=n(7407);const k=e=>{let{onClick:t}=e;return(0,u.jsx)(g.Ay,{icon:(0,u.jsx)(A.A,{}),"aria-label":"Edit",htmlType:"button",size:"small",onClick:t,children:"Edit"})},_=e=>{let{loading:t,onClick:n}=e;return(0,u.jsx)(g.Ay,{loading:t,htmlType:"button",size:"small",danger:!0,onClick:n,children:"Delete"})};var f=n(6597),v=n(6784),y=n(4194);const C=e=>{let{isModalOpen:t,onClose:n,children:a}=e;return(0,u.jsx)(y.A,{title:"Edit contact",footer:null,open:t,onCancel:n,children:a})},N=e=>{let{contact:t,onSubmit:n}=e;const{id:o,name:h,number:x}=t,[j,p]=(0,r.useState)({name:h,number:x}),b=(0,a.wA)(),{editeLoading:g,error:A}=(0,a.d4)(i),k=e=>{let{target:t}=e;const{name:n,value:a}=t;p((e=>({...e,[n]:a})))};return(0,u.jsxs)("form",{className:c,onSubmit:e=>{e.preventDefault(),b((0,s.eY)({id:o,body:{...j}})),A||n()},children:[(0,u.jsxs)("label",{className:m,children:["Name",(0,u.jsx)("input",{type:"text",className:d,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"name",onChange:k,value:j.name,required:!0})]}),(0,u.jsxs)("label",{className:m,children:["Number",(0,u.jsx)("input",{type:"phone",className:d,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:k,value:j.number,required:!0})]}),(0,u.jsx)(l.A,{text:"Save changes",loading:g})]})},w=e=>{let{contacts:t}=e;const[n,l]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[c,m]=(0,r.useState)(!1),d=(0,a.wA)(),h=()=>{l(!n)},x=[{title:"Name",dataIndex:"name",key:"name"},{title:"Phone number",dataIndex:"number",key:"number"},{title:"Action",key:"action",render:(e,t)=>(0,u.jsxs)(f.A,{gap:"small",justify:"center",children:[(0,u.jsx)(k,{onClick:()=>(i(t),void h())}),(0,u.jsx)(_,{loading:c,onClick:()=>{return e=t.id,m(!0),d((0,s.MO)(e)),void m(!1);var e}})]})}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v.A,{rowKey:e=>e.id,pagination:!1,columns:x,dataSource:t,size:"small",bordered:!0,title:()=>"My contacts",className:b}),n&&(0,u.jsx)(C,{isModalOpen:n,onClose:h,children:(0,u.jsx)(N,{contact:o,onSubmit:h})})]})},z=()=>{const{items:e}=(0,a.d4)(o),{fetchLoading:t,error:n}=(0,a.d4)(i);return n&&p.Report.failure(n),(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)(j.A,{}),Boolean(e.length)&&(0,u.jsx)(w,{contacts:e})]})};var S=n(6376);const F="PhoneBookFilter_filter__rm6bD",P="PhoneBookFilter_filterInput__mJAwe",B=()=>{const e=(0,a.wA)();return(0,u.jsx)("div",{className:F,children:(0,u.jsx)("input",{onChange:t=>{let{target:n}=t;return e((0,S.R)(n.value.toLowerCase()))},name:"filter",placeholder:"Find contact",className:P})})},L=()=>{const e=(0,a.wA)();return(0,r.useEffect)((()=>{e((0,s.oe)())})),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x,{}),(0,u.jsx)(B,{}),(0,u.jsx)(z,{})]})},Z=()=>(0,u.jsx)("main",{children:(0,u.jsx)(L,{})})}}]);
//# sourceMappingURL=852.256abe3a.chunk.js.map