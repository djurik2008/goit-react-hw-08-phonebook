"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[244],{5314:function(e,n,t){var r=t(8018),a=t(184);n.Z=function(e){var n=e.text,t=e.loading,s=void 0!==t&&t;return(0,a.jsx)(r.ZP,{type:"primary",loading:s,htmlType:"submit",block:!0,size:"large",children:n})}},4244:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(4420),a=t(2791),s=t(5639),i=t(5861),o=t(4942),c=t(1413),u=t(9439),l=t(4687),d=t.n(l),m=t(5314),f=t(3553),p=function(e){return e.contacts},h=(0,f.P1)([function(e){return e.contacts.items},function(e){return e.filter}],(function(e,n){if(!n)return{items:e};var t=n.toLowerCase();return{items:e.filter((function(e){var n=e.name,r=e.number;return n.toLowerCase().includes(t)||r.includes(t)}))}})),x=t(7694),v="PhoneBookForm_form__ln2Qf",j="PhoneBookForm_label__hl1Ol",b="PhoneBookForm_input__rY+Ws",Z=t(184),g={name:"",number:""},_=function(){var e=(0,a.useState)((0,c.Z)({},g)),n=(0,u.Z)(e,2),t=n[0],l=n[1],f=(0,a.useState)(!1),p=(0,u.Z)(f,2),_=p[0],k=p[1],C=(0,r.v9)(h).error,N=(0,r.I0)();C&&x.Report.failure(C);var y=function(e){var n=e.target,t=n.name,r=n.value;l((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},t,r))}))},w=function(){var e=(0,i.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(!0),e.prev=2,e.next=5,N((0,s.uK)((0,c.Z)({},t)));case 5:r=e.sent,s.uK.fulfilled.match(r)&&(x.Notify.success("Contact added"),l((0,c.Z)({},g)));case 7:return e.prev=7,k(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)("form",{className:v,onSubmit:w,children:[(0,Z.jsxs)("label",{className:j,children:["Name",(0,Z.jsx)("input",{type:"text",className:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"name",onChange:y,value:t.name,required:!0})]}),(0,Z.jsxs)("label",{className:j,children:["Number",(0,Z.jsx)("input",{type:"phone",className:b,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:y,value:t.number,required:!0})]}),(0,Z.jsx)(m.Z,{text:"Add contact",loading:_})]})},k="PhoneBookList_list__V6lpG",C=t(7933),N="PhoneBookItem_contact_icon__QeN1B",y=t(8018),w=t(1752),P=function(e){var n=e.onClick;return(0,Z.jsx)(y.ZP,{icon:(0,Z.jsx)(w.Z,{}),"aria-label":"Edit",htmlType:"button",size:"small",onClick:n,children:"Edit"})},S=function(e){var n=e.loading,t=e.onClick;return(0,Z.jsx)(y.ZP,{loading:n,htmlType:"button",size:"small",danger:!0,onClick:t,children:"Delete"})};var z=t.p+"static/media/sprite.b48006aabe6b616585b2e57dca158ef6.svg",B=t(7201),F=t(6082),A=function(e){var n=e.isModalOpen,t=e.onClose,r=e.children;return(0,Z.jsx)(F.Z,{title:"Edit contact",footer:null,open:n,onCancel:t,children:r})},I=function(e){var n=e.contact,t=e.onSubmit,l=n.id,f=n.name,h=n.number,g=(0,a.useState)({name:f,number:h}),_=(0,u.Z)(g,2),k=_[0],C=_[1],N=(0,a.useState)(!1),y=(0,u.Z)(N,2),w=y[0],P=y[1],S=(0,r.I0)(),z=(0,r.v9)(p).error;z&&x.Report.failure(z);var B=function(e){var n=e.target,t=n.name,r=n.value;C((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},t,r))}))},F=function(){var e=(0,i.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),P(!0),e.prev=2,e.next=5,S((0,s.Ve)({id:l,body:(0,c.Z)({},k)}));case 5:r=e.sent,s.Ve.fulfilled.match(r)&&(x.Notify.success("Contact edited"),t());case 7:return e.prev=7,P(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)("form",{className:v,onSubmit:F,children:[(0,Z.jsxs)("label",{className:j,children:["Name",(0,Z.jsx)("input",{type:"text",className:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"name",onChange:B,value:k.name,required:!0})]}),(0,Z.jsxs)("label",{className:j,children:["Number",(0,Z.jsx)("input",{type:"phone",className:b,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:B,value:k.number,required:!0})]}),(0,Z.jsx)(m.Z,{text:"Update contact",loading:w})]})},L=function(e){var n=e.contact,t=n.id,o=n.name,c=n.number,l=(0,a.useState)(!1),m=(0,u.Z)(l,2),f=m[0],h=m[1],v=(0,a.useState)(!1),j=(0,u.Z)(v,2),b=j[0],g=j[1],_=(0,r.v9)(p).error,k=(0,r.I0)();_&&x.Report.failure(_);var C=function(){var e=(0,i.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,k((0,s.GK)(t));case 4:n=e.sent,s.GK.fulfilled.match(n)&&x.Notify.success("Contact deleted");case 6:return e.prev=6,g(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){h(!f)};return(0,Z.jsxs)(B.Z,{justify:"space-between",align:"center",component:"li",style:{height:"45px",padding:"6px",marginTop:"6px",borderRadius:"2px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.5)"},children:[(0,Z.jsxs)(B.Z,{gap:"middle",children:[(0,Z.jsx)("svg",{className:N,children:(0,Z.jsx)("use",{href:z+"#user"})}),(0,Z.jsxs)("p",{children:[o,": "]}),(0,Z.jsx)("p",{children:c})]}),(0,Z.jsxs)(B.Z,{gap:"small",children:[(0,Z.jsx)(P,{onClick:y}),(0,Z.jsx)(S,{loading:b,onClick:C})]}),f&&(0,Z.jsx)(A,{isModalOpen:f,onClose:y,children:(0,Z.jsx)(I,{contact:n,onSubmit:y})})]})},R=function(){var e=(0,r.v9)(h).items,n=(0,r.v9)(p),t=n.fetchLoading,a=n.error;a&&x.Report.failure(a);var s=e.map((function(e){return(0,Z.jsx)(L,{contact:e},e.id)}));return(0,Z.jsxs)(Z.Fragment,{children:[t&&(0,Z.jsx)(C.Z,{}),Boolean(e.length)&&(0,Z.jsx)("ul",{className:k,children:s})]})},T=t(5689),q="PhoneBookFilter_filter__rm6bD",D="PhoneBookFilter_filterInput__mJAwe",E=function(){var e=(0,r.I0)();return(0,Z.jsx)("div",{className:q,children:(0,Z.jsx)("input",{onChange:function(n){var t=n.target;return e((0,T.T)(t.value.toLowerCase()))},name:"filter",placeholder:"Find contact",className:D})})},K=function(){var e=(0,r.I0)();return(0,a.useEffect)((function(){e((0,s.yF)())})),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_,{}),(0,Z.jsx)(E,{}),(0,Z.jsx)(R,{})]})},G=function(){return(0,Z.jsxs)("main",{children:[(0,Z.jsx)(K,{}),";"]})}}}]);
//# sourceMappingURL=244.a4833374.chunk.js.map