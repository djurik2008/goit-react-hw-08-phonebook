"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[244],{5314:function(e,n,t){var a=t(8018),r=t(184);n.Z=function(e){var n=e.text,t=e.loading,i=void 0!==t&&t;return(0,r.jsx)(a.ZP,{type:"primary",loading:i,htmlType:"submit",block:!0,size:"large",children:n})}},4244:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var a=t(4420),r=t(2791),i=t(5639),s=t(4942),o=t(1413),l=t(9439),c=t(5314),u=(0,t(3553).P1)([function(e){return e.contacts.items},function(e){return e.filter}],(function(e,n){if(!n)return{items:e};var t=n.toLowerCase();return{items:e.filter((function(e){var n=e.name,a=e.number;return n.toLowerCase().includes(t)||a.includes(t)}))}})),d=function(e){return e.contacts},m="PhoneBookForm_form__ln2Qf",h="PhoneBookForm_label__hl1Ol",p="PhoneBookForm_input__rY+Ws",x=t(184),f={name:"",number:""},j=function(){var e=(0,r.useState)((0,o.Z)({},f)),n=(0,l.Z)(e,2),t=n[0],u=n[1],j=(0,a.v9)(d),b=j.addLoading,v=j.error,g=(0,a.I0)(),Z=function(e){var n=e.target,t=n.name,a=n.value;u((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},t,a))}))};return(0,x.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),g((0,i.uK)((0,o.Z)({},t))),v||u((0,o.Z)({},f))},children:[(0,x.jsxs)("label",{className:h,children:["Name",(0,x.jsx)("input",{type:"text",className:p,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f0-9 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$",name:"name",onChange:Z,value:t.name,required:!0})]}),(0,x.jsxs)("label",{className:h,children:["Number",(0,x.jsx)("input",{type:"phone",className:p,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:Z,value:t.number,required:!0})]}),(0,x.jsx)(c.Z,{text:"Add contact",loading:b})]})},b="PhoneBookList_list__V6lpG",v=t(7933),g=t(7694),Z="PhoneBookItem_contact_icon__QeN1B",_=t(8018),k=t(1752),C=function(e){var n=e.onClick;return(0,x.jsx)(_.ZP,{icon:(0,x.jsx)(k.Z,{}),"aria-label":"Edit",htmlType:"button",size:"small",onClick:n,children:"Edit"})},N=function(e){var n=e.loading,t=e.onClick;return(0,x.jsx)(_.ZP,{loading:n,htmlType:"button",size:"small",danger:!0,onClick:t,children:"Delete"})};var y=t.p+"static/media/sprite.b48006aabe6b616585b2e57dca158ef6.svg",P=t(7201),w=t(6082),S=function(e){var n=e.isModalOpen,t=e.onClose,a=e.children;return(0,x.jsx)(w.Z,{title:"Edit contact",footer:null,open:n,onCancel:t,children:a})},z=function(e){var n=e.contact,t=e.onSubmit,u=n.id,f=n.name,j=n.number,b=(0,r.useState)({name:f,number:j}),v=(0,l.Z)(b,2),g=v[0],Z=v[1],_=(0,a.I0)(),k=(0,a.v9)(d),C=k.editeLoading,N=k.error,y=function(e){var n=e.target,t=n.name,a=n.value;Z((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},t,a))}))};return(0,x.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),_((0,i.Ve)({id:u,body:(0,o.Z)({},g)})),N||t()},children:[(0,x.jsxs)("label",{className:h,children:["Name",(0,x.jsx)("input",{type:"text",className:p,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"name",onChange:y,value:g.name,required:!0})]}),(0,x.jsxs)("label",{className:h,children:["Number",(0,x.jsx)("input",{type:"phone",className:p,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",name:"number",onChange:y,value:g.number,required:!0})]}),(0,x.jsx)(c.Z,{text:"Save changes",loading:C})]})},B=function(e){var n=e.contact,t=n.id,s=n.name,o=n.number,c=(0,r.useState)(!1),u=(0,l.Z)(c,2),d=u[0],m=u[1],h=(0,r.useState)(!1),p=(0,l.Z)(h,2),f=p[0],j=p[1],b=(0,a.I0)(),v=function(){m(!d)};return(0,x.jsxs)(P.Z,{justify:"space-between",align:"center",component:"li",style:{height:"45px",padding:"6px",marginTop:"6px",borderRadius:"2px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.5)"},children:[(0,x.jsxs)(P.Z,{gap:"middle",children:[(0,x.jsx)("svg",{className:Z,children:(0,x.jsx)("use",{href:y+"#user"})}),(0,x.jsxs)("p",{children:[s,": "]}),(0,x.jsx)("p",{children:o})]}),(0,x.jsxs)(P.Z,{gap:"small",children:[(0,x.jsx)(C,{onClick:v}),(0,x.jsx)(N,{loading:f,onClick:function(){j(!0),b((0,i.GK)(t))}})]}),d&&(0,x.jsx)(S,{isModalOpen:d,onClose:v,children:(0,x.jsx)(z,{contact:n,onSubmit:v})})]})},F=function(){var e=(0,a.v9)(u).items,n=(0,a.v9)(d),t=n.fetchLoading,r=n.error;r&&g.Report.failure(r);var i=e.map((function(e){return(0,x.jsx)(B,{contact:e},e.id)}));return(0,x.jsxs)(x.Fragment,{children:[t&&(0,x.jsx)(v.Z,{}),Boolean(e.length)&&(0,x.jsx)("ul",{className:b,children:i})]})},A=t(5689),I="PhoneBookFilter_filter__rm6bD",L="PhoneBookFilter_filterInput__mJAwe",T=function(){var e=(0,a.I0)();return(0,x.jsx)("div",{className:I,children:(0,x.jsx)("input",{onChange:function(n){var t=n.target;return e((0,A.T)(t.value.toLowerCase()))},name:"filter",placeholder:"Find contact",className:L})})},q=function(){var e=(0,a.I0)();return(0,r.useEffect)((function(){e((0,i.yF)())})),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j,{}),(0,x.jsx)(T,{}),(0,x.jsx)(F,{})]})},D=function(){return(0,x.jsxs)("main",{children:[(0,x.jsx)(q,{}),";"]})}}}]);
//# sourceMappingURL=244.be775ba3.chunk.js.map